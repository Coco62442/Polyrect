{"version":3,"file":"js/360.43d64f39.js","mappings":"uMAG0B,Q,WACK,S,GAGtBA,MAAM,a,GACTC,EAAAA,EAAAA,GAAsB,UAAlB,iBAAa,G,GAEfA,EAAAA,EAAAA,GAAuC,eAAhCA,EAAAA,EAAAA,GAAwB,SAArB,uBAAV,G,GAGAA,EAAAA,EAAAA,GAAkC,eAA3BA,EAAAA,EAAAA,GAAmB,SAAhB,kBAAV,G,GAGAA,EAAAA,EAAAA,GAAgD,UAAxCC,KAAK,SAASC,GAAG,UAAS,SAAK,G,0EAf7CC,EAAAA,EAAAA,IAmBM,aAlBJH,EAAAA,EAAAA,GAGM,aAFJI,EAAAA,EAAAA,IAAsCC,EAAA,CAAzBC,GAAG,KAAG,C,kBAAC,IAAI,M,OACxBF,EAAAA,EAAAA,IAA4CC,EAAA,CAA/BC,GAAG,UAAQ,C,kBAAC,IAAK,M,SAGhCN,EAAAA,EAAAA,GAWM,MAXN,EAWM,CAVJO,GACAP,EAAAA,EAAAA,GAQO,QARAQ,SAAM,8BAAUC,EAAAA,UAAAA,EAAAA,YAAAA,IAAQ,cAAEV,MAAM,QAAvC,CACEW,GAAAA,EAAAA,EAAAA,KACAV,EAAAA,EAAAA,GAAwG,S,qCAAxFW,EAAAA,WAAUC,GAAEX,KAAK,OAAOY,YAAY,8BAA8BC,KAAK,QAAQC,SAAA,IAA/F,iBAAgBJ,EAAAA,cAEhBK,GAAAA,EAAAA,EAAAA,KACAhB,EAAAA,EAAAA,GAAmG,S,qCAAnFW,EAAAA,SAAQC,GAAEX,KAAK,WAAWY,YAAY,yBAAyBC,KAAK,MAAMC,SAAA,IAA1F,iBAAgBJ,EAAAA,YAEhBM,GAPF,QAkBN,MAAMC,EAAO,2CACPC,EAAUD,EAAO,QAEvB,OACEJ,KAAM,OACNM,KAAM,KAAM,CACVC,MAAO,GACPC,OAAQ,GACRC,MAAO,CACLC,MAAO,GACPC,OAAQ,GACRC,IAAK,GACLC,IAAK,IAEPC,WAAY,GACZC,SAAU,KAGZC,QAAS,CACPC,iBACE,IACE,IAAIC,QAAsBC,MAAMd,EAAU,SAAU,CAClDe,OAAQ,OACRC,QAAS,CAAC,eAAgB,oBAC1BC,KAAMC,KAAKC,UAAU,CACnBd,MAAOe,KAAKX,WACZD,IAAKY,KAAKV,aAIVG,EAAcQ,IAChBR,QAAsBA,EAAcS,OACpCF,KAAKG,QAAQC,KAAK,gBAClBC,aAAaC,QACbD,aAAaE,QAAQ,KAAMd,EAAce,KACzCH,aAAaE,QAAQ,QAASd,EAAcgB,QAG5CC,MAAM,yCAGV,MACEA,MAAM,yB,QChEd,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://polyrecte/./src/views/EleveView/HomeEleveView.vue","webpack://polyrecte/./src/views/EleveView/HomeEleveView.vue?4d7d"],"sourcesContent":["<template>\n  <div>\n    <nav>\n      <router-link to=\"/\">Home</router-link>\n      <router-link to=\"/about\">About</router-link>\n    </nav>\n    \n    <div class=\"container\">\n      <h1>Portail El√®ve</h1>\n      <form @submit.prevent=\"redirect\" class=\"form\">\n        <label><b>Nom d'utilisateur</b></label>\n        <input v-model=\"loginEmail\" type=\"text\" placeholder=\"Entrer le nom d'utilisateur\" name=\"email\" required>\n\n        <label><b>Mot de passe</b></label>\n        <input v-model=\"loginMdp\" type=\"password\" placeholder=\"Entrer le mot de passe\" name=\"mdp\" required>\n\n        <button type=\"submit\" id='submit'>Login</button>\n      </form>\n    </div>\n    \n  </div>\n  \n  \n</template>\n\n<script>\n\nconst SERV = 'https://polyrecte-serveur.herokuapp.com/'\nconst API_URL = SERV + 'eleve';\n\nexport default {\n  name: 'home',\n  data: () => ({\n    error: '',\n    eleves: [],\n    eleve: {\n      email: \"\",\n      prenom: \"\",\n      nom: \"\",\n      mdp: \"\"\n    },\n    loginEmail: '',\n    loginMdp: ''\n  }),\n  \n  methods: {\n    async redirect() {\n      try {\n        let repEleveLogin = await fetch(API_URL + '/login', {\n          method: \"POST\",\n          headers: {'Content-Type': 'application/json'}, \n          body: JSON.stringify({\n            email: this.loginEmail,\n            mdp: this.loginMdp,\n          })\n        });\n        \n        if (repEleveLogin.ok) {\n          repEleveLogin = await repEleveLogin.json();\n          this.$router.push('./loginEleve');\n          localStorage.clear();\n          localStorage.setItem('id', repEleveLogin._id);\n          localStorage.setItem('token', repEleveLogin.token);\n        }\n        else {\n          alert('Mot de passe ou identifiant incorrect');\n        }\n      }\n      catch {\n        alert('Erreur du serveur');\n      }\n    },\n  }\n};\n</script>\n\n","import { render } from \"./HomeEleveView.vue?vue&type=template&id=23bfeb8d\"\nimport script from \"./HomeEleveView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeEleveView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/c/Users/coren/OneDrive/Documents/Copie Polyrecte/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","id","_createElementBlock","_createVNode","_component_router_link","to","_hoisted_4","onSubmit","$options","_hoisted_5","_ctx","$event","placeholder","name","required","_hoisted_6","_hoisted_7","SERV","API_URL","data","error","eleves","eleve","email","prenom","nom","mdp","loginEmail","loginMdp","methods","async","repEleveLogin","fetch","method","headers","body","JSON","stringify","this","ok","json","$router","push","localStorage","clear","setItem","_id","token","alert","__exports__","render"],"sourceRoot":""}