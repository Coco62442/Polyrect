"use strict";(self["webpackChunkpolyrecte"]=self["webpackChunkpolyrecte"]||[]).push([[44],{44:function(o,t,e){e.r(t),e.d(t,{default:function(){return w}});var r=e(3396),n=e(9242);const l=(0,r.Uk)("Ajouter des Notes"),a=(0,r.Uk)("Modifier des Notes"),s=(0,r.Uk)("Ajouter des Absences"),u=(0,r.Uk)("Modifier des Absences"),i=(0,r.Uk)("Mettre à jour votre profil"),p={class:"container"},d=(0,r._)("h4",null,"Formulaire pour mettre à jour tes informations:",-1),f=(0,r._)("label",{for:"emailPut"},"Email",-1),c=(0,r._)("label",{for:"mdpPut"},"Mot de passe",-1),m=(0,r._)("button",{type:"submit"},"Mettre à jour",-1);function P(o,t,e,P,g,h){const b=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("nav",null,[(0,r.Wm)(b,{to:"/loginProf"},{default:(0,r.w5)((()=>[l])),_:1}),(0,r.Wm)(b,{to:"/modifNote"},{default:(0,r.w5)((()=>[a])),_:1}),(0,r.Wm)(b,{to:"/ajoutAbsence"},{default:(0,r.w5)((()=>[s])),_:1}),(0,r.Wm)(b,{to:"/modifAbsence"},{default:(0,r.w5)((()=>[u])),_:1}),(0,r.Wm)(b,{to:"/profilProf"},{default:(0,r.w5)((()=>[i])),_:1})]),(0,r._)("button",{onClick:t[0]||(t[0]=o=>h.profLogout()),class:"deconnexion"},"Déconnexion"),(0,r._)("div",p,[d,(0,r._)("form",{onSubmit:t[3]||(t[3]=(0,n.iM)(((...o)=>h.putProf&&h.putProf(...o)),["prevent"])),class:"form"},[(0,r._)("div",null,[f,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>o.emailPut=t),type:"email",placeholder:"Entrer un email"},null,512),[[n.nr,o.emailPut]])]),(0,r._)("div",null,[c,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>o.mdpPut=t),type:"password",placeholder:"Entrer un mot de passe"},null,512),[[n.nr,o.mdpPut]])]),m],32)])])}const g=top.glob.serv,h=g+"prof";var b={name:"profProfil",data:()=>({id:localStorage.getItem("idProf"),emailPut:null,mdpPut:null,prof:[],error:""}),methods:{profLogout(){localStorage.removeItem("tokenProf"),localStorage.removeItem("idProf"),localStorage.clear(),this.$router.push("/prof"),top.glob.toast("Vous n'êtes pas connecté","info")},async putProf(){await fetch(h+"/"+this.id,{method:"PUT",body:JSON.stringify({email:this.emailPut,mdp:this.mdpPut}),headers:{"content-type":"application/json",authorization:localStorage.getItem("tokenProf")}}).then((o=>{o.ok?top.glob.toast("Professeur mis à jour","success"):401==o.status?(this.$router.push("/prof"),top.glob.toast("Vous n'êtes pas connecté","info")):top.glob.toast("Les informations n'ont pas pu être mises à jour","warning")})).catch((o=>{console.log(o),top.glob.toast("Erreur","warning")}))}}},_=e(89);const k=(0,_.Z)(b,[["render",P]]);var w=k}}]);
//# sourceMappingURL=44.091a8b54.js.map