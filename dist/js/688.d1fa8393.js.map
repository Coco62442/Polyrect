{"version":3,"file":"js/688.d1fa8393.js","mappings":"uMAGyC,qB,WACA,sB,WACG,wB,WACA,yB,WACF,8B,GAGnCA,MAAM,a,GACVC,EAAAA,EAAAA,GAAwD,UAApD,mDAA+C,G,GAGnDA,EAAAA,EAAAA,GAAmC,SAA5BC,IAAI,YAAW,SAAK,G,GAI3BD,EAAAA,EAAAA,GAAwC,SAAjCC,IAAI,UAAS,gBAAY,G,GAGhCD,EAAAA,EAAAA,GAA4C,UAApCE,KAAK,UAAS,iBAAa,G,0EApBlCC,EAAAA,EAAAA,IAuBM,aAtBFH,EAAAA,EAAAA,GAMM,aALFI,EAAAA,EAAAA,IAA4DC,EAAA,CAA/CC,GAAG,cAAY,C,kBAAC,IAAiB,M,OAC9CF,EAAAA,EAAAA,IAA6DC,EAAA,CAAhDC,GAAG,cAAY,C,kBAAC,IAAkB,M,OAC/CF,EAAAA,EAAAA,IAAkEC,EAAA,CAArDC,GAAG,iBAAe,C,kBAAC,IAAoB,M,OACpDF,EAAAA,EAAAA,IAAmEC,EAAA,CAAtDC,GAAG,iBAAe,C,kBAAC,IAAqB,M,OACrDF,EAAAA,EAAAA,IAAsEC,EAAA,CAAzDC,GAAG,eAAa,C,kBAAC,IAA0B,M,SAE5DN,EAAAA,EAAAA,GAA0E,UAA7DO,QAAK,eAAEC,EAAAA,cAAcT,MAAM,eAAc,gBAC5DC,EAAAA,EAAAA,GAaM,MAbN,EAaM,CAZLS,GACAT,EAAAA,EAAAA,GAUO,QAVAU,SAAM,8BAAUF,EAAAA,SAAAA,EAAAA,WAAAA,IAAO,cAAET,MAAM,QAAtC,EACAC,EAAAA,EAAAA,GAGM,YAFNW,GAEM,SADNX,EAAAA,EAAAA,GAAqE,S,qCAArDY,EAAAA,SAAQC,GAAEX,KAAK,QAAQY,YAAY,mBAAnD,iBAAgBF,EAAAA,eAEhBZ,EAAAA,EAAAA,GAGM,YAFNe,GAEM,SADNf,EAAAA,EAAAA,GAA6E,S,qCAA7DY,EAAAA,OAAMC,GAAEX,KAAK,WAAWY,YAAY,0BAApD,iBAAgBF,EAAAA,YAEhBI,GATA,QAiBH,MAAMC,EAAO,uBAEPC,EAAeD,EAAO,OAG5B,OAEIE,KAAM,aACNC,KAAM,KAAM,CACRC,GAAIC,aAAaC,QAAQ,MACzBC,SAAU,KACVC,OAAQ,KACRC,KAAM,GACNC,MAAO,KAEXC,QAAS,CACLC,aACIP,aAAaQ,WAAW,SACxBR,aAAaQ,WAAW,MACxBR,aAAaS,QACbC,KAAKC,QAAQC,KAAK,UAGtBC,sBACUC,MAAMlB,EAAe,IAAMc,KAAKX,GAAI,CACtCgB,OAAQ,MACRC,KAAMC,KAAKC,UAAU,CACjBC,MAAOT,KAAKR,SACZkB,IAAKV,KAAKP,SAEdkB,QAAS,CACL,eAAgB,mBAChB,cAAiBrB,aAAaC,QAAQ,YAG7CqB,MAAKC,IACEA,EAASC,GACTD,EAASE,OACRH,MAAKI,IACF,GAAIA,EAAOC,QAAS,CAEhB,MAAMtB,EAAQqB,EAAOC,QACpBC,KAAIC,GAAUA,EAAOzB,OACrB0B,KAAK,MACNpB,KAAKL,MAAQA,OAEbK,KAAKL,MAAQ,GACbK,KAAKqB,cAAe,EACpBrB,KAAKsB,MAAMpB,KAAKc,MAKD,KAAnBH,EAASU,QACTC,MAAM,6BACNxB,KAAKC,QAAQC,KAAK,UAGlBsB,MAAM,sDAIjBC,OAAOC,IACJC,QAAQC,IAAIF,S,QCvF5B,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://polyrecte/./src/views/ProfView/ProfilView.vue","webpack://polyrecte/./src/views/ProfView/ProfilView.vue?dbcb"],"sourcesContent":["<template>\n    <div>\n        <nav>\n            <router-link to=\"/loginProf\">Ajouter des Notes</router-link>\n            <router-link to=\"/modifNote\">Modifier des Notes</router-link>\n            <router-link to=\"/ajoutAbsence\">Ajouter des Absences</router-link>\n            <router-link to=\"/modifAbsence\">Modifier des Absences</router-link>\n            <router-link to=\"/profilProf\">Mettre à jour votre profil</router-link>\n        </nav>\n        <button v-on:click='profLogout()' class=\"deconnexion\">Déconnexion</button>\n\t\t<div class=\"container\">\n\t\t\t<h4>Formulaire pour mettre à jour tes informations:</h4>\n\t\t\t<form @submit.prevent=\"putProf\" class=\"form\">\n\t\t\t<div>\n\t\t\t<label for=\"emailPut\">Email</label>\n\t\t\t<input v-model=\"emailPut\" type=\"email\" placeholder=\"Entrer un email\">\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t<label for=\"mdpPut\">Mot de passe</label>\n\t\t\t<input v-model=\"mdpPut\" type=\"password\" placeholder=\"Entrer un mot de passe\">\n\t\t\t</div>\n\t\t\t<button type=\"submit\">Mettre à jour</button>\n\t\t\t</form>\n\t\t</div>\n    </div>\n</template>\n\n<script>\n\nconst SERV = 'http:localhost/4000/';\n\nconst API_URL_PROF = SERV + 'prof';\n\n\nexport default {\n\n    name: 'profProfil',\n    data: () => ({\n        id: localStorage.getItem('id'),\n        emailPut: null,\n        mdpPut: null,\n        prof: [],\n        error: '',\n    }),\n    methods: {\n        profLogout() {\n            localStorage.removeItem('token');\n            localStorage.removeItem('id');\n            localStorage.clear();\n            this.$router.push('/prof');\n        },\n\n        async putProf() {\n            await fetch(API_URL_PROF + '/' + this.id, {\n                method: \"PUT\",\n                body: JSON.stringify({\n                    email: this.emailPut,\n                    mdp: this.mdpPut\n                }),\n                headers: {\n                    'content-type': 'application/json',\n                    'authorization': localStorage.getItem('token'),\n                }\n            })\n            .then(response => {\n                if (response.ok) {\n                    response.json()\n                    .then(result => {\n                        if (result.details) {\n                            // there was an error...\n                            const error = result.details\n                            .map(detail => detail.prof)\n                            .join(\". \");\n                            this.error = error;\n                        } else {\n                            this.error = \"\";\n                            this.showProfForm = false;\n                            this.profs.push(result);\n                        }\n                    });\n                }\n                else {\n                    if (response.status == 401) {\n                        alert('Vous n\\'êtes plus connecté');\n                        this.$router.push('/prof');\n                    }\n                    else {\n                        alert('Les informations n\\'ont pas pu être mises à jour');\n                    };\n                };\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n        },\n    },\n};\n\n</script>","import { render } from \"./ProfilView.vue?vue&type=template&id=597410aa\"\nimport script from \"./ProfilView.vue?vue&type=script&lang=js\"\nexport * from \"./ProfilView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/mnt/c/Users/coren/OneDrive/Documents/Copie Polyrecte/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","type","_createElementBlock","_createVNode","_component_router_link","to","onClick","$options","_hoisted_7","onSubmit","_hoisted_8","_ctx","$event","placeholder","_hoisted_9","_hoisted_10","SERV","API_URL_PROF","name","data","id","localStorage","getItem","emailPut","mdpPut","prof","error","methods","profLogout","removeItem","clear","this","$router","push","async","fetch","method","body","JSON","stringify","email","mdp","headers","then","response","ok","json","result","details","map","detail","join","showProfForm","profs","status","alert","catch","err","console","log","__exports__","render"],"sourceRoot":""}